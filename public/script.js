document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("playerForm"),t=document.getElementById("playerList"),n=document.getElementById("randomizeButton"),r=document.getElementById("result");function o(){const e=JSON.parse(localStorage.getItem("players"))||[];t.innerHTML="",e.forEach(((e,n)=>{const r=document.createElement("li");r.className="flex justify-between items-center mb-2 p-2 bg-gray-200 rounded-lg",r.innerHTML=`\n                ${e.nickname} (${e.gender}, ${e.level})\n                <button class="removePlayer bg-red-500 text-white px-2 py-1 rounded-lg" data-index="${n}">Remove</button>\n            `,t.appendChild(r)}))}e.addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("nickname").value,r=document.getElementById("gender").value,a=document.getElementById("level").value;if(n&&r&&a){const t=JSON.parse(localStorage.getItem("players"))||[];t.push({nickname:n,gender:r,level:a}),localStorage.setItem("players",JSON.stringify(t)),o(),e.reset()}})),t.addEventListener("click",(e=>{if(e.target.classList.contains("removePlayer")){const t=e.target.dataset.index,n=JSON.parse(localStorage.getItem("players"))||[];n.splice(t,1),localStorage.setItem("players",JSON.stringify(n)),o()}})),n.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("players"))||[];if(e.length<2)return void(r.textContent="Not enough players to randomize.");for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}const t=[],n=[];for(;e.length>=2;){const r=e.shift(),o=e.findIndex((e=>e.gender!==r.gender));if(-1!==o){const n=e.splice(o,1)[0];t.push([r,n])}else n.push(r)}for(e.length>0&&n.push(e[0]);n.length>=2;){const e=n.shift(),r=n.shift();t.push([e,r])}if(r.innerHTML=t.map((e=>{let t="";return t="cewek"===e[0].gender&&"cowok"===e[1].gender?"ğŸ‘§ğŸ‘¦":"cowok"===e[0].gender&&"cewek"===e[1].gender?"ğŸ‘¦ğŸ‘§":"cewek"===e[0].gender&&"cewek"===e[1].gender?"ğŸ‘§ğŸ‘§":"ğŸ‘¦ğŸ‘¦",`${t} ${e[0].nickname} & ${e[1].nickname}`})).join("<br>"),n.length>0){const e="cewek"===gender?"ğŸ‘§":"ğŸ‘¦",t=n.map((t=>`${e} ${t.nickname}`)).join("<br>");r.innerHTML+=`<br>${t}`}})),o()}));